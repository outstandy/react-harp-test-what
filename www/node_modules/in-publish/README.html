<!DOCTYPE html><html><title>Hometown</title><link rel="stylesheet" href="/scss/main.css"><script src="https://fb.me/react-0.14.7.js"></script><script src="https://fb.me/react-dom-0.14.7.js"></script><script src="https://npmcdn.com/babel-core@5.8.38/browser.min.js"></script><script src="https://npmcdn.com/jquery@3.1.0/dist/jquery.min.js"></script><script src="https://npmcdn.com/remarkable@1.6.2/dist/remarkable.min.js"></script><body><nav><div class="grid"><div class="row"><div class="grid-1-1"><a href="#" class="titling type-300 pink">Hometown</a></div></div></div></nav><h1>in-publish</h1><p>Detect if we were run as a result of <code>npm publish</code>. This is intended to allow you to
easily have prepublish lifecycle scripts that don&#39;t run when you run <code>npm install</code>.</p>
<pre><code>$ npm install --save in-publish
in-publish@1.0.0 node_modules/in-publish
</code></pre><p>Then edit your package.json to have:</p>
<pre><code class="language-json">  &quot;scripts&quot;: {
    &quot;prepublish&quot;: &quot;in-publish &amp;&amp; thing-I-dont-want-on-dev-install || not-in-publish&quot;
  }
</code></pre>
<p>Now when you run:</p>
<pre><code>$ npm install
</code></pre><p>Then <code>thing-I-dont-want-on-dev-install</code> won&#39;t be run, but...</p>
<pre><code>$ npm publish
</code></pre><p>And <code>thing-I-dont-want-on-dev-install</code> will be run.</p>
<p>It&#39;s worth noting that the <code>prepublish</code> lifecycle is <em>ALSO</em> called when you build a tarball, so:</p>
<pre><code>$ npm pack
</code></pre><p>Will call your <code>prepublish</code> lifecycle, but with the examplea above,
<code>thing-I-dont-want-on-dev-install</code> won&#39;t be run.</p>
<p>If you want this, you can use another helper included here:</p>
<pre><code class="language-json">  &quot;scripts&quot;: {
    &quot;prepublish&quot;: &quot;not-in-install &amp;&amp; thing-I-dont-want-on-dev-install || in-install&quot;
  }
</code></pre>
<p>The above will run your <code>thing-I-dont-want-on-dev-install</code> on <code>publish</code> and
on <code>pack</code> but not on <code>install</code>.</p><footer><div class="grid"><div class="row"><div class="grid-1-1"><p class="text off-white">This the footer</p></div></div></div></footer><script src="bundle.js"></script></body></html>