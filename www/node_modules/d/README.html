<!DOCTYPE html><html><title>Hometown</title><link rel="stylesheet" href="/scss/main.css"><script src="https://fb.me/react-0.14.7.js"></script><script src="https://fb.me/react-dom-0.14.7.js"></script><script src="https://npmcdn.com/babel-core@5.8.38/browser.min.js"></script><script src="https://npmcdn.com/jquery@3.1.0/dist/jquery.min.js"></script><script src="https://npmcdn.com/remarkable@1.6.2/dist/remarkable.min.js"></script><body><nav><div class="grid"><div class="row"><div class="grid-1-1"><a href="#" class="titling type-300 pink">Hometown</a></div></div></div></nav><h1>D - Property descriptor factory</h1><p><em>Originally derived from <a href="https://github.com/medikoo/es5-ext">es5-ext</a> package.</em></p>
<p>Defining properties with descriptors is very verbose:</p>
<pre><code class="language-javascript">var Account = function () {};
Object.defineProperties(Account.prototype, {
  deposit: { value: function () {
      /* ... */
    }, configurable: true, enumerable: false, writable: true },
  whithdraw: { value: function () {
      /* ... */
    }, configurable: true, enumerable: false, writable: true },
  balance: { get: function () {
      /* ... */
    }, configurable: true, enumerable: false }
});
</code></pre>
<p>D cuts that to:</p>
<pre><code class="language-javascript">var d = require(&#39;d&#39;);

var Account = function () {};
Object.defineProperties(Account.prototype, {
  deposit: d(function () {
    /* ... */
  }),
  whithdraw: d(function () {
    /* ... */
  }),
  balance: d.gs(function () {
    /* ... */
  })
});
</code></pre>
<p>By default, created descriptor follow characteristics of native ES5 properties, and defines values as:</p>
<pre><code class="language-javascript">{ configurable: true, enumerable: false, writable: true }
</code></pre>
<p>You can overwrite it by preceding <em>value</em> argument with instruction:</p>
<pre><code class="language-javascript">d(&#39;c&#39;, value); // { configurable: true, enumerable: false, writable: false }
d(&#39;ce&#39;, value); // { configurable: true, enumerable: true, writable: false }
d(&#39;e&#39;, value); // { configurable: false, enumerable: true, writable: false }

// Same way for get/set:
d.gs(&#39;e&#39;, value); // { configurable: false, enumerable: true }
</code></pre>
<h3>Other utilities</h3><h4>autoBind(obj, props) <em>(d/auto-bind)</em></h4><p>Define methods which will be automatically bound to its instances</p>
<pre><code class="language-javascript">var d = require(&#39;d&#39;);
var autoBind = require(&#39;d/auto-bind&#39;);

var Foo = function () { this._count = 0; };
autoBind(Foo.prototype, {
  increment: d(function () { ++this._count; });
});

var foo = new Foo();

// Increment foo counter on each domEl click
domEl.addEventListener(&#39;click&#39;, foo.increment, false);
</code></pre>
<h4>lazy(obj, props) <em>(d/lazy)</em></h4><p>Define lazy properties, which will be resolved on first access</p>
<pre><code class="language-javascript">var d = require(&#39;d&#39;);
var lazy = require(&#39;d/lazy&#39;);

var Foo = function () {};
lazy(Foo.prototype, {
  items: d(function () { return []; })
});

var foo = new Foo();
foo.items.push(1, 2); // foo.items array created
</code></pre>
<h2>Installation</h2><h3>NPM</h3><p>In your project path:</p>
<pre><code>$ npm install d
</code></pre><h3>Browser</h3><p>You can easily bundle <em>D</em> for browser with <a href="https://github.com/medikoo/modules-webmake">modules-webmake</a></p>
<h2>Tests <a href="https://travis-ci.org/medikoo/d"><img src="https://travis-ci.org/medikoo/d.png" alt="Build Status"></a></h2><pre><code>$ npm test
</code></pre><footer><div class="grid"><div class="row"><div class="grid-1-1"><p class="text off-white">This the footer</p></div></div></div></footer><script src="bundle.js"></script></body></html>