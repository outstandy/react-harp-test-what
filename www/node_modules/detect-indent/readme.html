<!DOCTYPE html><html><title>Hometown</title><link rel="stylesheet" href="/scss/main.css"><script src="https://fb.me/react-0.14.7.js"></script><script src="https://fb.me/react-dom-0.14.7.js"></script><script src="https://npmcdn.com/babel-core@5.8.38/browser.min.js"></script><script src="https://npmcdn.com/jquery@3.1.0/dist/jquery.min.js"></script><script src="https://npmcdn.com/remarkable@1.6.2/dist/remarkable.min.js"></script><body><nav><div class="grid"><div class="row"><div class="grid-1-1"><a href="#" class="titling type-300 pink">Hometown</a></div></div></div></nav><h1>detect-indent <a href="https://travis-ci.org/sindresorhus/detect-indent"><img src="https://travis-ci.org/sindresorhus/detect-indent.svg?branch=master" alt="Build Status"></a></h1><blockquote>
<p>Detect the indentation of code</p>
</blockquote>
<p>Pass in a string of any kind of text and get the indentation.</p>
<h2>Use cases</h2><ul>
<li>Persisting the indentation when modifying a file.</li>
<li>Have new content match the existing indentation.</li>
<li>Setting the right indentation in your editor.</li>
</ul>
<h2>Install</h2><pre><code class="language-sh">$ npm install --save detect-indent
</code></pre>
<h2>Usage</h2><pre><code class="language-js">// modify a JSON file while persisting the indentation in Node
var fs = require(&#39;fs&#39;);
var detectIndent = require(&#39;detect-indent&#39;);
/*
{
    &quot;ilove&quot;: &quot;pizza&quot;
}
*/
var file = fs.readFileSync(&#39;foo.json&#39;, &#39;utf8&#39;);
// tries to detect the indentation and falls back to a default if it can&#39;t
var indent = detectIndent(file).indent || &#39;    &#39;;
var json = JSON.parse(file);

json.ilove = &#39;unicorns&#39;;

fs.writeFileSync(&#39;foo.json&#39;, JSON.stringify(json, null, indent));
/*
{
    &quot;ilove&quot;: &quot;unicorns&quot;
}
*/
</code></pre>
<h2>API</h2><p>Accepts a string and returns an object with stats about the indentation:  </p>
<ul>
<li><code>amount</code>: {Number} the amount of indentation, e.g. <code>2</code>  </li>
<li><code>type</code>: {String|Null} the type of indentation. Possible values are <code>tab</code>, <code>space</code> or <code>null</code> if no indentation is detected  </li>
<li><code>indent</code>: {String} the actual indentation</li>
</ul>
<h2>CLI</h2><pre><code class="language-sh">$ npm install --global detect-indent
</code></pre>
<pre><code>$ detect-indent --help

  Usage
    detect-indent &lt;file&gt;
    echo &lt;string&gt; | detect-indent

  Example
    echo &#39;  foo\n  bar&#39; | detect-indent | wc --chars
    2
</code></pre><h2>Algorithm</h2><p>The current algorithm looks for the most common difference between two consecutive non-empty lines.</p>
<p>In the following example, even if the 4-space indentation is used 3 times whereas the 2-space one is used 2 times, it is detected as less used because there were only 2 differences with this value instead of 4 for the 2-space indentation:</p>
<pre><code class="language-css">html {
  box-sizing: border-box;
}

body {
  background: grey;
}

p {
    line-height: 1.3em;
    margin-top: 1em;
    text-indent: 2em;
}
</code></pre>
<p><a href="https://medium.com/@heatherarthur/detecting-code-indentation-eff3ed0fb56b#3918">Source</a>.</p>
<p>Furthermore, if there are more than one most used difference, the indentation with the most lines is selected.</p>
<p>In the following example, the indentation is detected as 4-spaces:</p>
<pre><code class="language-css">body {
  background: grey;
}

p {
    line-height: 1.3em;
    margin-top: 1em;
    text-indent: 2em;
}
</code></pre>
<h2>License</h2><p>MIT Â© <a href="http://sindresorhus.com">Sindre Sorhus</a></p><footer><div class="grid"><div class="row"><div class="grid-1-1"><p class="text off-white">This the footer</p></div></div></div></footer><script src="bundle.js"></script></body></html>